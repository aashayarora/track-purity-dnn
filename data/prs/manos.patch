From 4f2c71ec6483e154826d8ac181b62b6e93ad20f3 Mon Sep 17 00:00:00 2001
From: Manos Vourliotis <emmanouil.vourliotis@gmail.com>
Date: Fri, 10 Oct 2025 10:56:47 -0700
Subject: [PATCH] Update high purity ID and simplify HLT LST configurations

---
 .../EventContent/python/EventContent_cff.py   |  4 --
 .../clients/beam_dqm_sourceclient-live_cfg.py |  5 ++-
 .../Trigger/python/TrackingMonitoring_cff.py  | 30 -------------
 .../HLT_75e33/modules/hltGeneralTracks_cfi.py | 42 +++----------------
 ...hltHighPtTripletStepTrackCandidates_cfi.py |  6 +++
 ...tTripletStepTrackCandidatespLSTCLST_cfi.py |  4 --
 ...HighPtTripletStepTrackCutClassifier_cfi.py |  5 ++-
 ...ipletStepTrackCutClassifierpLSTCLST_cfi.py |  4 --
 ...tepTrackSelectionHighPuritypLSTCLST_cfi.py |  8 ----
 .../hltHighPtTripletStepTrackspLSTCLST_cfi.py |  4 --
 .../hltInitialStepTrackCutClassifier_cfi.py   | 12 +++++-
 ...itialStepTrackCutClassifierpLSTCLST_cfi.py |  4 --
 ...nitialStepTrackCutClassifierpTTCLST_cfi.py |  4 --
 ...tepTrackSelectionHighPuritypLSTCLST_cfi.py |  8 ----
 ...StepTrackSelectionHighPuritypTTCLST_cfi.py |  8 ----
 .../modules/hltInitialStepTracks_cfi.py       |  6 +++
 .../hltInitialStepTrackspLSTCLST_cfi.py       |  4 --
 .../hltInitialStepTrackspTTCLST_cfi.py        |  4 --
 ...se2L3FromL1TkMuonTrackCutClassifier_cfi.py |  5 ++-
 ...se2L3FromL1TkMuonTrackCutClassifier_cfi.py |  5 ++-
 ...HighPtTripletStepTrackCutClassifier_cfi.py |  5 ++-
 ...L3MuonInitialStepTrackCutClassifier_cfi.py |  5 ++-
 ...hltPhase2L3OIMuonTrackCutClassifier_cfi.py |  5 ++-
 .../hltPhase2PixelTracksCutClassifier_cfi.py  |  5 ++-
 .../HLTHighPtTripletStepSequence_cfi.py       | 14 -------
 .../sequences/HLTInitialStepSequence_cfi.py   | 28 +++++--------
 .../plugins/TrackCutClassifier.cc             | 22 +++++++++-
 .../python/HLTmultiTrackValidator_cff.py      | 21 +---------
 .../python/customiseTrackingNtuple.py         |  8 +---
 29 files changed, 94 insertions(+), 191 deletions(-)
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCandidatespLSTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCutClassifierpLSTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackspLSTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifierpLSTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifierpTTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackSelectionHighPuritypLSTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackSelectionHighPuritypTTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackspLSTCLST_cfi.py
 delete mode 100644 HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackspTTCLST_cfi.py

diff --git a/Configuration/EventContent/python/EventContent_cff.py b/Configuration/EventContent/python/EventContent_cff.py
index 1813193825829..a2e8dba5d8c28 100644
--- a/Configuration/EventContent/python/EventContent_cff.py
+++ b/Configuration/EventContent/python/EventContent_cff.py
@@ -696,10 +696,6 @@ def SwapKeepAndDrop(l):
                             'keep *_hltGeneralTracks_*_*',
                             'keep *_hltInitialStepTrackSelectionHighPurity_*_*',
                             'keep *_hltHighPtTripletStepTrackSelectionHighPurity_*_*',
-                            'keep *_hltInitialStepTrackSelectionHighPuritypTTCLST_*_*',
-                            'keep *_hltInitialStepTrackSelectionHighPuritypLSTCLST_*_*',
-                            'keep *_hltInitialStepTracksT5TCLST_*_*',
-                            'keep *_hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST_*_*',
                             'keep *_hltOfflinePrimaryVertices_*_*',
                         ])
 
diff --git a/DQM/Integration/python/clients/beam_dqm_sourceclient-live_cfg.py b/DQM/Integration/python/clients/beam_dqm_sourceclient-live_cfg.py
index 79622dd07dddb..7a06745622927 100644
--- a/DQM/Integration/python/clients/beam_dqm_sourceclient-live_cfg.py
+++ b/DQM/Integration/python/clients/beam_dqm_sourceclient-live_cfg.py
@@ -155,7 +155,10 @@
       minNdof = cms.vdouble( 1.0E-5, 1.0E-5, 1.0E-5 ),
       maxChi2 = cms.vdouble( 9999., 9999., 30.0 ),
       maxDr = cms.vdouble( 99., 99., 1. ),
-      minLayers = cms.vint32( 0, 2, 3 )
+      minLayers = cms.vint32( 0, 2, 3 ),
+      passThroughForAll = cms.bool(False),
+      passThroughForDisplaced = cms.bool(False),
+      minLayersForDisplaced = cms.int32(4)
     ),
     ignoreVertices = cms.bool( True ),
 )
diff --git a/DQMOffline/Trigger/python/TrackingMonitoring_cff.py b/DQMOffline/Trigger/python/TrackingMonitoring_cff.py
index b21dd0df966bf..4977079aade29 100644
--- a/DQMOffline/Trigger/python/TrackingMonitoring_cff.py
+++ b/DQMOffline/Trigger/python/TrackingMonitoring_cff.py
@@ -132,31 +132,6 @@
     allTrackProducer = 'hltHighPtTripletStepTrackSelectionHighPurity',
 )
 
-# LST track collections
-initialSteppTTCLSTTracksMonitoringHLT = trackingMonHLT.clone(
-    FolderName       = 'HLT/Tracking/initialStepTrackSelectionHighPuritypTTCLST',
-    TrackProducer    = 'hltInitialStepTrackSelectionHighPuritypTTCLST',
-    allTrackProducer = 'hltInitialStepTrackSelectionHighPuritypTTCLST'
-)
-
-initialSteppLSTCLSTTracksMonitoringHLT = trackingMonHLT.clone(
-    FolderName       = 'HLT/Tracking/initialStepTrackSelectionHighPuritypLSTCLST',
-    TrackProducer    = 'hltInitialStepTrackSelectionHighPuritypLSTCLST',
-    allTrackProducer = 'hltInitialStepTrackSelectionHighPuritypLSTCLST'
-)
-
-initialStepT5TCLSTTracksMonitoringHLT = trackingMonHLT.clone(
-    FolderName       = 'HLT/Tracking/initialStepTracksT5TCLST',
-    TrackProducer    = 'hltInitialStepTracksT5TCLST',
-    allTrackProducer = 'hltInitialStepTracksT5TCLST'
-)
-
-highPtTripletSteppLSTCLSTTracksMonitoringHLT = trackingMonHLT.clone(
-    FolderName       = 'HLT/Tracking/highPtTripletStepTrackSelectionHighPuritypLSTCLST',
-    TrackProducer    = 'hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST',
-    allTrackProducer = 'hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST'
-)
-
 iter3TracksMonitoringHLT = trackingMonHLT.clone(
     FolderName       = 'HLT/Tracking/iter3Merged',
     TrackProducer    = 'hltIter3Merged',
@@ -299,10 +274,5 @@
 run3_common.toReplaceWith(trackingMonitorHLT, cms.Sequence(pixelTracksMonitoringHLT + iterHLTTracksMonitoringHLT + doubletRecoveryHPTracksMonitoringHLT))
 phase2_tracker.toReplaceWith(trackingMonitorHLT, cms.Sequence(pixelTracksMonitoringHLT + iterHLTTracksMonitoringHLT + iterInitialStepMonitoringHLT + iterHighPtTripletsMonitoringHLT))
 
-from Configuration.ProcessModifiers.trackingLST_cff import trackingLST
-from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
-(~seedingLST & trackingLST).toReplaceWith(trackingMonitorHLT, cms.Sequence(pixelTracksMonitoringHLT + iterHLTTracksMonitoringHLT + initialSteppTTCLSTTracksMonitoringHLT + initialSteppLSTCLSTTracksMonitoringHLT + initialStepT5TCLSTTracksMonitoringHLT + iterHighPtTripletsMonitoringHLT))
-(seedingLST & trackingLST).toReplaceWith(trackingMonitorHLT, cms.Sequence(pixelTracksMonitoringHLT + iterHLTTracksMonitoringHLT + initialSteppTTCLSTTracksMonitoringHLT + initialStepT5TCLSTTracksMonitoringHLT + highPtTripletSteppLSTCLSTTracksMonitoringHLT))
-
 run3_common.toReplaceWith(trackingMonitorHLTall, cms.Sequence(pixelTracksMonitoringHLT + iter0TracksMonitoringHLT + iter0HPTracksMonitoringHLT + doubletRecoveryTracksMonitoringHLT + doubletRecoveryHPTracksMonitoringHLT + iterHLTTracksMonitoringHLT))
 run3_common.toReplaceWith(egmTrackingMonitorHLT, cms.Sequence(gsfTracksMonitoringHLT))
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltGeneralTracks_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltGeneralTracks_cfi.py
index 0c5a539c4417d..712618b2246ff 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltGeneralTracks_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltGeneralTracks_cfi.py
@@ -29,50 +29,18 @@
 from Configuration.ProcessModifiers.trackingLST_cff import trackingLST
 from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
 
+(~singleIterPatatrack & trackingLST).toModify(hltGeneralTracks, indivShareFrac = [0.1,0.1])
+
 _hltGeneralTracksSingleIterPatatrack = hltGeneralTracks.clone(
     TrackProducers = ["hltInitialStepTrackSelectionHighPurity"],
     hasSelector = [0],
     indivShareFrac = [1.0],
     selectedTrackQuals = ["hltInitialStepTrackSelectionHighPurity"],
-    setsToMerge = {0: dict(pQual=True, tLists=[0,1])}
-)
-
-(singleIterPatatrack & ~trackingLST & ~seedingLST).toReplaceWith(hltGeneralTracks, _hltGeneralTracksSingleIterPatatrack)
-
-_hltGeneralTracksLST = hltGeneralTracks.clone(
-    TrackProducers = ["hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTrackSelectionHighPuritypLSTCLST", "hltInitialStepTracksT5TCLST", "hltHighPtTripletStepTrackSelectionHighPurity"],
-    hasSelector = [0,0,0,0],
-    indivShareFrac = [0.1,0.1,0.1,0.1],
-    selectedTrackQuals = ["hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTrackSelectionHighPuritypLSTCLST", "hltInitialStepTracksT5TCLST", "hltHighPtTripletStepTrackSelectionHighPurity"],
-    setsToMerge = {0: dict(pQual=True, tLists=[0,1,2,3])}
+    setsToMerge = {0: dict(pQual=True, tLists=[0])}
 )
 
-(~singleIterPatatrack & trackingLST & ~seedingLST).toReplaceWith(hltGeneralTracks, _hltGeneralTracksLST)
-
-_hltGeneralTracksSingleIterPatatrackLST = hltGeneralTracks.clone(
-    TrackProducers = ["hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTrackSelectionHighPuritypLSTCLST", "hltInitialStepTracksT5TCLST"],
-    hasSelector = [0,0,0],
-    indivShareFrac = [0.1,0.1,0.1],
-    selectedTrackQuals = ["hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTrackSelectionHighPuritypLSTCLST", "hltInitialStepTracksT5TCLST"],
-   setsToMerge = {0: dict(pQual=True, tLists=[0,1,2])}
-)
-
-(singleIterPatatrack & trackingLST & ~seedingLST).toReplaceWith(hltGeneralTracks, _hltGeneralTracksSingleIterPatatrackLST)
-
-_hltGeneralTracksLSTSeeding = hltGeneralTracks.clone(
-            TrackProducers = ["hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTracksT5TCLST", "hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST"],
-            hasSelector = [0,0,0],
-            indivShareFrac = [0.1,0.1,0.1],
-            selectedTrackQuals = ["hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTracksT5TCLST", "hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST"],
-            setsToMerge = {0: dict(pQual=True, tLists=[0,1,2])}
-)
-
-(~singleIterPatatrack & trackingLST & seedingLST).toReplaceWith(hltGeneralTracks, _hltGeneralTracksLSTSeeding)
-
-(singleIterPatatrack & trackingLST & seedingLST).toModify(_hltGeneralTracksSingleIterPatatrack,
-                                                          TrackProducers = ["hltInitialStepTracks"],
-                                                          selectedTrackQuals = ["hltInitialStepTracks"])
-(singleIterPatatrack & trackingLST & seedingLST).toReplaceWith(hltGeneralTracks, _hltGeneralTracksSingleIterPatatrack)
+(singleIterPatatrack & trackingLST).toModify(_hltGeneralTracksSingleIterPatatrack, indivShareFrac = [0.1])
+(singleIterPatatrack).toReplaceWith(hltGeneralTracks, _hltGeneralTracksSingleIterPatatrack)
 
 from Configuration.ProcessModifiers.ngtScouting_cff import ngtScouting
 from ..modules.hltPhase2PixelTracks_cfi import *
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCandidates_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCandidates_cfi.py
index 52c89d0225873..88ab660329dc2 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCandidates_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCandidates_cfi.py
@@ -24,3 +24,9 @@
     src = cms.InputTag("hltHighPtTripletStepSeeds"),
     useHitsSplitting = cms.bool(False)
 )
+
+from Configuration.ProcessModifiers.singleIterPatatrack_cff import singleIterPatatrack
+from Configuration.ProcessModifiers.trackingLST_cff import trackingLST
+from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
+
+(~singleIterPatatrack & trackingLST & seedingLST).toModify(hltHighPtTripletStepTrackCandidates, src = "hltInitialStepTrackCandidates:pLSTSsLST")
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCandidatespLSTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCandidatespLSTCLST_cfi.py
deleted file mode 100644
index 6492ae62a6224..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCandidatespLSTCLST_cfi.py
+++ /dev/null
@@ -1,4 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltHighPtTripletStepTrackCandidates_cfi import hltHighPtTripletStepTrackCandidates as _hltHighPtTripletStepTrackCandidates
-hltHighPtTripletStepTrackCandidatespLSTCLST = _hltHighPtTripletStepTrackCandidates.clone( src = "hltInitialStepTrackCandidates:pLSTSsLST" )
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCutClassifier_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCutClassifier_cfi.py
index d566bc041fc8d..27c5d5096ee22 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCutClassifier_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCutClassifier_cfi.py
@@ -26,7 +26,10 @@
         minLayers = cms.vint32(3, 3, 4),
         minNVtxTrk = cms.int32(3),
         minNdof = cms.vdouble(1e-05, 1e-05, 1e-05),
-        minPixelHits = cms.vint32(0, 0, 3)
+        minPixelHits = cms.vint32(0, 0, 3),
+        passThroughForAll = cms.bool(False),
+        passThroughForDisplaced = cms.bool(False),
+        minLayersForDisplaced = cms.int32(4)
     ),
     qualityCuts = cms.vdouble(-0.7, 0.1, 0.7),
     src = cms.InputTag("hltHighPtTripletStepTracks"),
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCutClassifierpLSTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCutClassifierpLSTCLST_cfi.py
deleted file mode 100644
index e2c99d1e6dfd6..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackCutClassifierpLSTCLST_cfi.py
+++ /dev/null
@@ -1,4 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltHighPtTripletStepTrackCutClassifier_cfi import hltHighPtTripletStepTrackCutClassifier as _hltHighPtTripletStepTrackCutClassifier
-hltHighPtTripletStepTrackCutClassifierpLSTCLST = _hltHighPtTripletStepTrackCutClassifier.clone( src = "hltHighPtTripletStepTrackspLSTCLST" )
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST_cfi.py
deleted file mode 100644
index db9cba801df17..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST_cfi.py
+++ /dev/null
@@ -1,8 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltHighPtTripletStepTrackSelectionHighPurity_cfi import hltHighPtTripletStepTrackSelectionHighPurity as _hltHighPtTripletStepTrackSelectionHighPurity
-hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST = _hltHighPtTripletStepTrackSelectionHighPurity.clone(
-    originalMVAVals = "hltHighPtTripletStepTrackCutClassifierpLSTCLST:MVAValues",
-    originalQualVals = "hltHighPtTripletStepTrackCutClassifierpLSTCLST:QualityMasks",
-    originalSource = "hltHighPtTripletStepTrackspLSTCLST"
-)
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackspLSTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackspLSTCLST_cfi.py
deleted file mode 100644
index 9d78785012a7c..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltHighPtTripletStepTrackspLSTCLST_cfi.py
+++ /dev/null
@@ -1,4 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltHighPtTripletStepTracks_cfi import hltHighPtTripletStepTracks as _hltHighPtTripletStepTracks
-hltHighPtTripletStepTrackspLSTCLST = _hltHighPtTripletStepTracks.clone( src = "hltHighPtTripletStepTrackCandidatespLSTCLST" )
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifier_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifier_cfi.py
index 17094e3c0529c..82f9dad51c229 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifier_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifier_cfi.py
@@ -26,9 +26,19 @@
         minLayers = cms.vint32(3, 3, 3),
         minNVtxTrk = cms.int32(3),
         minNdof = cms.vdouble(1e-05, 1e-05, 1e-05),
-        minPixelHits = cms.vint32(0, 0, 3)
+        minPixelHits = cms.vint32(0, 0, 3),
+        passThroughForAll = cms.bool(False),
+        passThroughForDisplaced = cms.bool(False),
+        minLayersForDisplaced = cms.int32(4)
     ),
     qualityCuts = cms.vdouble(-0.7, 0.1, 0.7),
     src = cms.InputTag("hltInitialStepTracks"),
     vertices = cms.InputTag("hltPhase2PixelVertices")
 )
+
+from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
+from Configuration.ProcessModifiers.singleIterPatatrack_cff import singleIterPatatrack
+from Configuration.ProcessModifiers.trackingLST_cff import trackingLST
+
+trackingLST.toModify(hltInitialStepTrackCutClassifier, mva = dict( passThroughForDisplaced = True ))
+(singleIterPatatrack & trackingLST & seedingLST).toModify(hltInitialStepTrackCutClassifier, mva = dict( passThroughForAll = True ))
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifierpLSTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifierpLSTCLST_cfi.py
deleted file mode 100644
index 5ce18b8b69a20..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifierpLSTCLST_cfi.py
+++ /dev/null
@@ -1,4 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltInitialStepTrackCutClassifier_cfi import hltInitialStepTrackCutClassifier as _hltInitialStepTrackCutClassifier
-hltInitialStepTrackCutClassifierpLSTCLST = _hltInitialStepTrackCutClassifier.clone( src = "hltInitialStepTrackspLSTCLST" )
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifierpTTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifierpTTCLST_cfi.py
deleted file mode 100644
index 35adc3f698f38..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackCutClassifierpTTCLST_cfi.py
+++ /dev/null
@@ -1,4 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltInitialStepTrackCutClassifier_cfi import hltInitialStepTrackCutClassifier as _hltInitialStepTrackCutClassifier
-hltInitialStepTrackCutClassifierpTTCLST = _hltInitialStepTrackCutClassifier.clone( src = "hltInitialStepTrackspTTCLST" )
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackSelectionHighPuritypLSTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackSelectionHighPuritypLSTCLST_cfi.py
deleted file mode 100644
index edf0d6527564f..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackSelectionHighPuritypLSTCLST_cfi.py
+++ /dev/null
@@ -1,8 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltInitialStepTrackSelectionHighPurity_cfi import hltInitialStepTrackSelectionHighPurity as _hltInitialStepTrackSelectionHighPurity
-hltInitialStepTrackSelectionHighPuritypLSTCLST = _hltInitialStepTrackSelectionHighPurity.clone(
-    originalMVAVals = "hltInitialStepTrackCutClassifierpLSTCLST:MVAValues",
-    originalQualVals = "hltInitialStepTrackCutClassifierpLSTCLST:QualityMasks",
-    originalSource = "hltInitialStepTrackspLSTCLST"
-)
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackSelectionHighPuritypTTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackSelectionHighPuritypTTCLST_cfi.py
deleted file mode 100644
index ce39843dd293f..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackSelectionHighPuritypTTCLST_cfi.py
+++ /dev/null
@@ -1,8 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltInitialStepTrackSelectionHighPurity_cfi import hltInitialStepTrackSelectionHighPurity as _hltInitialStepTrackSelectionHighPurity
-hltInitialStepTrackSelectionHighPuritypTTCLST = _hltInitialStepTrackSelectionHighPurity.clone(
-    originalMVAVals = "hltInitialStepTrackCutClassifierpTTCLST:MVAValues",
-    originalQualVals = "hltInitialStepTrackCutClassifierpTTCLST:QualityMasks",
-    originalSource = "hltInitialStepTrackspTTCLST"
-)
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTracks_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTracks_cfi.py
index 8fb82dca38605..d591133307ff5 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTracks_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTracks_cfi.py
@@ -17,3 +17,9 @@
     useHitsSplitting = cms.bool(False),
     useSimpleMF = cms.bool(False)
 )
+
+from Configuration.ProcessModifiers.singleIterPatatrack_cff import singleIterPatatrack
+from Configuration.ProcessModifiers.trackingLST_cff import trackingLST
+from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
+
+(~singleIterPatatrack & trackingLST & seedingLST).toModify(hltInitialStepTracks, src = "hltInitialStepTrackCandidates:nopLSTCsLST")
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackspLSTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackspLSTCLST_cfi.py
deleted file mode 100644
index 0c3f3617b54bd..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackspLSTCLST_cfi.py
+++ /dev/null
@@ -1,4 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltInitialStepTracks_cfi import hltInitialStepTracks as _hltInitialStepTracks
-hltInitialStepTrackspLSTCLST = _hltInitialStepTracks.clone( src = "hltInitialStepTrackCandidates:pLSTCsLST" )
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackspTTCLST_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackspTTCLST_cfi.py
deleted file mode 100644
index 84e716174a4ee..0000000000000
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltInitialStepTrackspTTCLST_cfi.py
+++ /dev/null
@@ -1,4 +0,0 @@
-import FWCore.ParameterSet.Config as cms
-
-from ..modules.hltInitialStepTracks_cfi import hltInitialStepTracks as _hltInitialStepTracks
-hltInitialStepTrackspTTCLST = _hltInitialStepTracks.clone( src = "hltInitialStepTrackCandidates:pTTCsLST" )
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltIter0Phase2L3FromL1TkMuonTrackCutClassifier_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltIter0Phase2L3FromL1TkMuonTrackCutClassifier_cfi.py
index a3f9c40504de1..16de01db08e43 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltIter0Phase2L3FromL1TkMuonTrackCutClassifier_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltIter0Phase2L3FromL1TkMuonTrackCutClassifier_cfi.py
@@ -26,7 +26,10 @@
         minLayers = cms.vint32(3, 3, 4),
         minNVtxTrk = cms.int32(3),
         minNdof = cms.vdouble(1e-05, 1e-05, 1e-05),
-        minPixelHits = cms.vint32(0, 3, 4)
+        minPixelHits = cms.vint32(0, 3, 4),
+        passThroughForAll = cms.bool(False),
+        passThroughForDisplaced = cms.bool(False),
+        minLayersForDisplaced = cms.int32(4)
     ),
     qualityCuts = cms.vdouble(-0.7, 0.1, 0.7),
     src = cms.InputTag("hltIter0Phase2L3FromL1TkMuonCtfWithMaterialTracks"),
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltIter2Phase2L3FromL1TkMuonTrackCutClassifier_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltIter2Phase2L3FromL1TkMuonTrackCutClassifier_cfi.py
index 90f3794fa4028..6948b4e5439c5 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltIter2Phase2L3FromL1TkMuonTrackCutClassifier_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltIter2Phase2L3FromL1TkMuonTrackCutClassifier_cfi.py
@@ -26,7 +26,10 @@
         minLayers = cms.vint32(3, 3, 3),
         minNVtxTrk = cms.int32(3),
         minNdof = cms.vdouble(1e-05, 1e-05, 1e-05),
-        minPixelHits = cms.vint32(0, 0, 0)
+        minPixelHits = cms.vint32(0, 0, 0),
+        passThroughForAll = cms.bool(False),
+        passThroughForDisplaced = cms.bool(False),
+        minLayersForDisplaced = cms.int32(4)
     ),
     qualityCuts = cms.vdouble(-0.7, 0.1, 0.7),
     src = cms.InputTag("hltIter2Phase2L3FromL1TkMuonCtfWithMaterialTracks"),
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3MuonHighPtTripletStepTrackCutClassifier_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3MuonHighPtTripletStepTrackCutClassifier_cfi.py
index 35a3d02b1a7fc..a670a67ea4ffc 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3MuonHighPtTripletStepTrackCutClassifier_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3MuonHighPtTripletStepTrackCutClassifier_cfi.py
@@ -26,7 +26,10 @@
         minLayers = cms.vint32(3, 3, 4),
         minNVtxTrk = cms.int32(3),
         minNdof = cms.vdouble(1e-05, 1e-05, 1e-05),
-        minPixelHits = cms.vint32(0, 0, 3)
+        minPixelHits = cms.vint32(0, 0, 3),
+        passThroughForAll = cms.bool(False),
+        passThroughForDisplaced = cms.bool(False),
+        minLayersForDisplaced = cms.int32(4)
     ),
     qualityCuts = cms.vdouble(-0.7, 0.1, 0.7),
     src = cms.InputTag("hltPhase2L3MuonHighPtTripletStepTracks"),
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3MuonInitialStepTrackCutClassifier_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3MuonInitialStepTrackCutClassifier_cfi.py
index b31c7383587db..2b2dd7ab95136 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3MuonInitialStepTrackCutClassifier_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3MuonInitialStepTrackCutClassifier_cfi.py
@@ -26,7 +26,10 @@
         minLayers = cms.vint32(3, 3, 3),
         minNVtxTrk = cms.int32(3),
         minNdof = cms.vdouble(1e-05, 1e-05, 1e-05),
-        minPixelHits = cms.vint32(0, 0, 3)
+        minPixelHits = cms.vint32(0, 0, 3),
+        passThroughForAll = cms.bool(False),
+        passThroughForDisplaced = cms.bool(False),
+        minLayersForDisplaced = cms.int32(4)
     ),
     qualityCuts = cms.vdouble(-0.7, 0.1, 0.7),
     src = cms.InputTag("hltPhase2L3MuonInitialStepTracks"),
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3OIMuonTrackCutClassifier_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3OIMuonTrackCutClassifier_cfi.py
index 2ed3716fe550b..590f68f72b144 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3OIMuonTrackCutClassifier_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2L3OIMuonTrackCutClassifier_cfi.py
@@ -26,7 +26,10 @@
         minLayers = cms.vint32(3, 5, 5),
         minNVtxTrk = cms.int32(3),
         minNdof = cms.vdouble(1e-05, 1e-05, 1e-05),
-        minPixelHits = cms.vint32(0, 0, 1)
+        minPixelHits = cms.vint32(0, 0, 1),
+        passThroughForAll = cms.bool(False),
+        passThroughForDisplaced = cms.bool(False),
+        minLayersForDisplaced = cms.int32(4)
     ),
     qualityCuts = cms.vdouble(-0.7, 0.1, 0.7),
     src = cms.InputTag("hltPhase2L3OIMuCtfWithMaterialTracks"),
diff --git a/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2PixelTracksCutClassifier_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2PixelTracksCutClassifier_cfi.py
index 224ab76a304aa..acc1a1404f323 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2PixelTracksCutClassifier_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/modules/hltPhase2PixelTracksCutClassifier_cfi.py
@@ -26,7 +26,10 @@
         minLayers = cms.vint32(3, 3, 3),
         minNVtxTrk = cms.int32(3),
         minNdof = cms.vdouble(1e-05, 1e-05, 1e-05),
-        minPixelHits = cms.vint32(0, 0, 3)
+        minPixelHits = cms.vint32(0, 0, 3),
+        passThroughForAll = cms.bool(False),
+        passThroughForDisplaced = cms.bool(False),
+        minLayersForDisplaced = cms.int32(4)
     ),
     qualityCuts = cms.vdouble(-0.7, 0.1, 0.7),
     src = cms.InputTag("hltPhase2PixelTracksCAExtension"),
diff --git a/HLTrigger/Configuration/python/HLT_75e33/sequences/HLTHighPtTripletStepSequence_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/sequences/HLTHighPtTripletStepSequence_cfi.py
index 8c617bd954d72..094bc04bbe9a3 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/sequences/HLTHighPtTripletStepSequence_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/sequences/HLTHighPtTripletStepSequence_cfi.py
@@ -16,17 +16,3 @@
 
 from Configuration.ProcessModifiers.trackingLST_cff import trackingLST
 trackingLST.toReplaceWith(HLTHighPtTripletStepSequence, HLTHighPtTripletStepSequence.copyAndExclude([HLTHighPtTripletStepSeedingSequence]))
-
-from ..modules.hltHighPtTripletStepTrackCandidatespLSTCLST_cfi import *
-from ..modules.hltHighPtTripletStepTrackspLSTCLST_cfi import *
-from ..modules.hltHighPtTripletStepTrackCutClassifierpLSTCLST_cfi import *
-from ..modules.hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST_cfi import *
-_HLTHighPtTripletStepSequenceLSTSeeding = cms.Sequence(
-     hltHighPtTripletStepTrackCandidatespLSTCLST
-    +hltHighPtTripletStepTrackspLSTCLST
-    +hltHighPtTripletStepTrackCutClassifierpLSTCLST
-    +hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST
-)
-
-from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
-(seedingLST & trackingLST).toReplaceWith(HLTHighPtTripletStepSequence, _HLTHighPtTripletStepSequenceLSTSeeding)
diff --git a/HLTrigger/Configuration/python/HLT_75e33/sequences/HLTInitialStepSequence_cfi.py b/HLTrigger/Configuration/python/HLT_75e33/sequences/HLTInitialStepSequence_cfi.py
index 9154a20050b3a..2f31700e1d386 100644
--- a/HLTrigger/Configuration/python/HLT_75e33/sequences/HLTInitialStepSequence_cfi.py
+++ b/HLTrigger/Configuration/python/HLT_75e33/sequences/HLTInitialStepSequence_cfi.py
@@ -18,13 +18,6 @@
 from ..modules.hltSiPhase2RecHits_cfi import *
 from ..modules.hltInputLST_cfi import *
 from ..modules.hltLST_cfi import *
-from ..modules.hltInitialStepTrackspTTCLST_cfi import *
-from ..modules.hltInitialStepTrackspLSTCLST_cfi import *
-from ..modules.hltInitialStepTracksT5TCLST_cfi import *
-from ..modules.hltInitialStepTrackCutClassifierpTTCLST_cfi import *
-from ..modules.hltInitialStepTrackCutClassifierpLSTCLST_cfi import *
-from ..modules.hltInitialStepTrackSelectionHighPuritypTTCLST_cfi import *
-from ..modules.hltInitialStepTrackSelectionHighPuritypLSTCLST_cfi import *
 _HLTInitialStepSequenceLST = cms.Sequence(
      hltInitialStepSeeds
     +hltInitialStepSeedTracksLST
@@ -34,25 +27,19 @@
     +hltInputLST
     +hltLST
     +hltInitialStepTrackCandidates
-    +hltInitialStepTrackspTTCLST
-    +hltInitialStepTrackspLSTCLST
-    +hltInitialStepTracksT5TCLST
-    +hltInitialStepTrackCutClassifierpTTCLST
-    +hltInitialStepTrackCutClassifierpLSTCLST
-    +hltInitialStepTrackSelectionHighPuritypTTCLST
-    +hltInitialStepTrackSelectionHighPuritypLSTCLST
+    +hltInitialStepTracks
+    +hltInitialStepTrackCutClassifier
+    +hltInitialStepTrackSelectionHighPurity
 )
 
+from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
 from Configuration.ProcessModifiers.singleIterPatatrack_cff import singleIterPatatrack
 from Configuration.ProcessModifiers.trackingLST_cff import trackingLST
-from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
 
-(~singleIterPatatrack & trackingLST & ~seedingLST).toReplaceWith(HLTInitialStepSequence, _HLTInitialStepSequenceLST)
+(~singleIterPatatrack & trackingLST).toReplaceWith(HLTInitialStepSequence, _HLTInitialStepSequenceLST)
 
 (singleIterPatatrack & trackingLST & ~seedingLST).toReplaceWith(HLTInitialStepSequence, _HLTInitialStepSequenceLST.copyAndExclude([HLTHighPtTripletStepSeedingSequence,hltHighPtTripletStepSeedTracksLST]))
 
-(~singleIterPatatrack & trackingLST & seedingLST).toReplaceWith(HLTInitialStepSequence, _HLTInitialStepSequenceLST.copyAndExclude([hltInitialStepTrackspLSTCLST,hltInitialStepTrackCutClassifierpLSTCLST,hltInitialStepTrackSelectionHighPuritypLSTCLST]))
-
 from ..modules.hltInitialStepTrajectorySeedsLST_cfi import *
 _HLTInitialStepSequenceSingleIterPatatrackLSTSeeding = cms.Sequence(
      hltInitialStepSeeds
@@ -63,10 +50,13 @@
     +hltInitialStepTrajectorySeedsLST
     +hltInitialStepTrackCandidates
     +hltInitialStepTracks
+    +hltInitialStepTrackCutClassifier
+    +hltInitialStepTrackSelectionHighPurity
 )
 
 (singleIterPatatrack & trackingLST & seedingLST).toReplaceWith(HLTInitialStepSequence, _HLTInitialStepSequenceSingleIterPatatrackLSTSeeding)
 
+from ..modules.hltInitialStepTracksT5TCLST_cfi import *
 _HLTInitialStepSequenceNGTScouting = cms.Sequence(
     hltInitialStepSeeds
     +hltInitialStepSeedTracksLST
@@ -110,6 +100,8 @@
     +hltInitialStepTrackCandidatesMkFit
     +hltInitialStepTrackCandidates
     +hltInitialStepTracks
+    +hltInitialStepTrackCutClassifier
+    +hltInitialStepTrackSelectionHighPurity
 )
 
 (singleIterPatatrack & trackingLST & seedingLST & hltTrackingMkFitInitialStep).toReplaceWith(HLTInitialStepSequence, _HLTInitialStepSequenceSingleIterPatatrackLSTSeedingMkFitTracking)
diff --git a/RecoTracker/FinalTrackSelectors/plugins/TrackCutClassifier.cc b/RecoTracker/FinalTrackSelectors/plugins/TrackCutClassifier.cc
index bc1cbc54c5eca..d5aac022c9d0b 100644
--- a/RecoTracker/FinalTrackSelectors/plugins/TrackCutClassifier.cc
+++ b/RecoTracker/FinalTrackSelectors/plugins/TrackCutClassifier.cc
@@ -188,6 +188,9 @@ namespace {
       fillArrayF(d0err, dr_par, "d0err");
       fillArrayF(d0err_par, dr_par, "d0err_par");
       fillArrayF(drWPVerr_par, dr_par, "drWPVerr_par");
+      passThroughForAll = cfg.getParameter<bool>("passThroughForAll");
+      passThroughForDisplaced = cfg.getParameter<bool>("passThroughForDisplaced");
+      minLayersForDisplaced = cfg.getParameter<int>("minLayersForDisplaced");
     }
 
     void beginStream() {}
@@ -197,6 +200,10 @@ namespace {
                      reco::BeamSpot const& beamSpot,
                      reco::VertexCollection const& vertices) const {
       float ret = 1.f;
+      // If requested in the configuration, bypass the other checks
+      if (passThroughForAll)
+        return 1.f;
+
       // minimum number of hits for by-passing the other checks
       if (minHits4pass[0] < std::numeric_limits<int>::max()) {
         ret = std::min(ret, cut(nHits(trk), minHits4pass, std::greater_equal<int>()));
@@ -204,6 +211,14 @@ namespace {
           return ret;
       }
 
+      // If requested in the configuration, bypass the other checks
+      // for tracks without pixel hits (displaced tracks)
+      auto nLayers = trk.hitPattern().trackerLayersWithMeasurement();
+      if (passThroughForDisplaced) {
+        if (nPixelHits(trk) == 0 && nLayers >= minLayersForDisplaced)
+          return 1.f;
+      }
+
       if (maxRelPtErr[2] < std::numeric_limits<float>::max()) {
         ret = std::min(ret, cut(relPtErr(trk), maxRelPtErr, std::less_equal<float>()));
         if (ret == -1.f)
@@ -214,7 +229,6 @@ namespace {
       if (ret == -1.f)
         return ret;
 
-      auto nLayers = trk.hitPattern().trackerLayersWithMeasurement();
       ret = std::min(ret, cut(nLayers, minLayers, std::greater_equal<int>()));
       if (ret == -1.f)
         return ret;
@@ -396,6 +410,9 @@ namespace {
                                        std::numeric_limits<float>::max(),
                                        std::numeric_limits<float>::max()});  // par = 3.
       desc.add<edm::ParameterSetDescription>("dr_par", dr_par);
+      desc.add<bool>("passThroughForAll", false);
+      desc.add<bool>("passThroughForDisplaced", false);
+      desc.add<int>("minLayersForDisplaced", 4);
     }
 
     bool isHLT;
@@ -423,6 +440,9 @@ namespace {
     float d0err[3];
     float d0err_par[3];
     float drWPVerr_par[3];
+    bool passThroughForAll;
+    bool passThroughForDisplaced;
+    int minLayersForDisplaced;
   };
 
   using TrackCutClassifier = TrackMVAClassifier<Cuts>;
diff --git a/Validation/RecoTrack/python/HLTmultiTrackValidator_cff.py b/Validation/RecoTrack/python/HLTmultiTrackValidator_cff.py
index 3c21ffd504a80..152810f17c043 100644
--- a/Validation/RecoTrack/python/HLTmultiTrackValidator_cff.py
+++ b/Validation/RecoTrack/python/HLTmultiTrackValidator_cff.py
@@ -38,29 +38,12 @@ def _modifyForPhase2(trackvalidator):
 phase2_tracker.toModify(hltTrackValidator, _modifyForPhase2)
 
 from Configuration.ProcessModifiers.trackingLST_cff import trackingLST
-from Configuration.ProcessModifiers.seedingLST_cff import seedingLST
 from Configuration.ProcessModifiers.ngtScouting_cff import ngtScouting
-
-def _modifyForPhase2LSTTracking(trackvalidator):
-    trackvalidator.label = ["hltGeneralTracks", "hltPhase2PixelTracks", "hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTrackSelectionHighPuritypLSTCLST", "hltInitialStepTracksT5TCLST", "hltHighPtTripletStepTrackSelectionHighPurity"]
-(~seedingLST & trackingLST).toModify(hltTrackValidator, _modifyForPhase2LSTTracking)
-
-def _modifyForPhase2LSTSeeding(trackvalidator):
-    trackvalidator.label = ["hltGeneralTracks", "hltPhase2PixelTracks", "hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTracksT5TCLST", "hltHighPtTripletStepTrackSelectionHighPuritypLSTCLST"]
-(seedingLST & trackingLST).toModify(hltTrackValidator, _modifyForPhase2LSTSeeding)
-
 from Configuration.ProcessModifiers.singleIterPatatrack_cff import singleIterPatatrack
+
 def _modifyForSingleIterPatatrack(trackvalidator):
     trackvalidator.label = ["hltGeneralTracks", "hltPhase2PixelTracks", "hltInitialStepTrackSelectionHighPurity"]
-(singleIterPatatrack & ~trackingLST & ~seedingLST).toModify(hltTrackValidator, _modifyForSingleIterPatatrack)
-
-def _modifyForSingleIterPatatrackLST(trackvalidator):
-    trackvalidator.label = ["hltGeneralTracks", "hltPhase2PixelTracks", "hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTrackSelectionHighPuritypLSTCLST", "hltInitialStepTracksT5TCLST"]
-(singleIterPatatrack & ~seedingLST & trackingLST).toModify(hltTrackValidator, _modifyForSingleIterPatatrackLST)
-
-def _modifyForSingleIterPatatrackLSTSeeding(trackvalidator):
-    trackvalidator.label = ["hltGeneralTracks", "hltPhase2PixelTracks", "hltInitialStepTrackSelectionHighPuritypTTCLST", "hltInitialStepTracksT5TCLST"]
-(singleIterPatatrack & seedingLST & trackingLST).toModify(hltTrackValidator, _modifyForSingleIterPatatrackLSTSeeding)
+singleIterPatatrack.toModify(hltTrackValidator, _modifyForSingleIterPatatrack)
 
 def _modifyForNGTScouting(trackvalidator):
     trackvalidator.label = ["hltGeneralTracks", "hltPhase2PixelTracks"]
diff --git a/Validation/RecoTrack/python/customiseTrackingNtuple.py b/Validation/RecoTrack/python/customiseTrackingNtuple.py
index 813753e94cbea..440aae64f9118 100644
--- a/Validation/RecoTrack/python/customiseTrackingNtuple.py
+++ b/Validation/RecoTrack/python/customiseTrackingNtuple.py
@@ -164,13 +164,7 @@ def customiseTrackingNtupleHLT(process):
 
     process.trackingNtuple.trackCandidates = ["hltIter0PFlowCkfTrackCandidates", "hltDoubletRecoveryPFlowCkfTrackCandidates"]
     trackingPhase2PU140.toModify(process.trackingNtuple, trackCandidates = ["hltInitialStepTrackCandidates", "hltHighPtTripletStepTrackCandidates"])
-    (singleIterPatatrack & (~trackingLST | seedingLST)).toModify(process.trackingNtuple, trackCandidates = ["hltInitialStepTrackCandidates"])
-    (singleIterPatatrack & trackingLST & ~seedingLST).toModify(process.trackingNtuple,
-        trackCandidates = ["hltInitialStepTrackCandidates:pTCsLST", "hltInitialStepTrackCandidates:t5TCsLST"])
-    (~singleIterPatatrack & trackingLST & ~seedingLST).toModify(process.trackingNtuple,
-        trackCandidates = ["hltInitialStepTrackCandidates:pTCsLST", "hltInitialStepTrackCandidates:t5TCsLST", "hltHighPtTripletStepTrackCandidates"])
-    (~singleIterPatatrack & trackingLST & seedingLST).toModify(process.trackingNtuple,
-        trackCandidates = ["hltInitialStepTrackCandidates:pTTCsLST", "hltInitialStepTrackCandidates:t5TCsLST", "hltHighPtTripletStepTrackCandidatespLSTCLST"])
+    singleIterPatatrack.toModify(process.trackingNtuple, trackCandidates = ["hltInitialStepTrackCandidates"])
 
     process.trackingNtuple.clusterMasks = [dict(index = getattr(_algo,"pixelPairStep"), src = "hltDoubletRecoveryClustersRefRemoval")]
     trackingPhase2PU140.toModify(process.trackingNtuple, clusterMasks = [dict(index = getattr(_algo,"highPtTripletStep"), src = "hltHighPtTripletStepClusters")])
-- 
2.46.2
